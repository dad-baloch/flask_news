{% extends 'base.html' %}

{% block body %}
{% include 'navbar.html' %}

<div class="container">
    <h1 class="my-4 text-center">Welcome to Daad News</h1>

    {% if error %}
    <div class="error-banner">{{error}}</div>
    {% endif %}

    {% if not articles %}
    <div class="text-center py-5">
        <p class="lead">No results found for "{{query}}".</p>
        <p class="text-muted">Try another search or browse the categories in the navbar.</p>
    </div>
    {% else %}
    <div class="row">
        {% for article in articles %}
        <div class="col-md-6">
            <div class="card mb-4 news-article">
                {% if article.urlToImage %}
                <img src="{{article.urlToImage}}" alt="picture" class="card-img-top">
                {% endif %}
                <div class="p-3">
                    <h4 class="card-title"><a href="{{article.url}}" target="_blank">{{article.title}}</a></h4>
                    <p class="card-text">{{article.description}}</p>
                    <p class="text-muted small mb-0">Source: {{article.source.name if article.source}} â€¢
                        {{article.publishedAt[:10] if article.publishedAt}}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}
</div>
<footer class="footer">
    <div class="container">
        <p>&copy; 2025 Daad News. All Rights Reserved.</p>
    </div>
</footer>
{% endblock body %}